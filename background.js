const a0_0x3c3068=a0_0x5594;(function(_0x4b8b07,_0x1f153b){const _0x23b8d2=a0_0x5594,_0x35ea99=_0x4b8b07();while(!![]){try{const _0x4a39d7=parseInt(_0x23b8d2(0x1f8))/0x1*(parseInt(_0x23b8d2(0x1a6))/0x2)+-parseInt(_0x23b8d2(0x1f9))/0x3*(parseInt(_0x23b8d2(0x1d4))/0x4)+-parseInt(_0x23b8d2(0x1dc))/0x5+parseInt(_0x23b8d2(0x1d6))/0x6*(parseInt(_0x23b8d2(0x1c9))/0x7)+parseInt(_0x23b8d2(0x1f7))/0x8*(parseInt(_0x23b8d2(0x203))/0x9)+parseInt(_0x23b8d2(0x1f3))/0xa*(-parseInt(_0x23b8d2(0x200))/0xb)+parseInt(_0x23b8d2(0x1aa))/0xc;if(_0x4a39d7===_0x1f153b)break;else _0x35ea99['push'](_0x35ea99['shift']());}catch(_0x9bf891){_0x35ea99['push'](_0x35ea99['shift']());}}}(a0_0x250d,0xe8e54));let port;chrome[a0_0x3c3068(0x1be)][a0_0x3c3068(0x1e4)][a0_0x3c3068(0x1e8)](()=>{const _0x408705=a0_0x3c3068;createContextMenuItems(!![]),chrome[_0x408705(0x1ab)][_0x408705(0x1b8)]('checkSubscription',{'periodInMinutes':0x218c5df638}),checkSubscriptionStatus(),chrome[_0x408705(0x1c6)][_0x408705(0x1ac)]({},_0x36bb47=>{const _0x32f9cd=_0x408705;for(let _0x229754 of _0x36bb47){isValidUrl(_0x229754[_0x32f9cd(0x1bb)])&&injectContentScript(_0x229754['id']);}});}),chrome['runtime'][a0_0x3c3068(0x1d1)][a0_0x3c3068(0x1e8)]((_0x51fea2,_0x2cb20c,_0x3a3b8f)=>{const _0x4f5c5f=a0_0x3c3068;switch(_0x51fea2[_0x4f5c5f(0x1fb)]){case _0x4f5c5f(0x1e5):chrome[_0x4f5c5f(0x1c6)]['captureVisibleTab'](null,{'format':_0x4f5c5f(0x1df)},_0x1e2407=>{const _0x282147=_0x4f5c5f;chrome[_0x282147(0x1c6)][_0x282147(0x1cb)](_0x2cb20c[_0x282147(0x1e2)]['id'],{'action':'processCapturedImage','imageUri':_0x1e2407,'startX':_0x51fea2[_0x282147(0x1b2)][_0x282147(0x1cf)],'startY':_0x51fea2[_0x282147(0x1b2)][_0x282147(0x1af)],'width':_0x51fea2['coordinates'][_0x282147(0x1ff)],'height':_0x51fea2[_0x282147(0x1b2)]['height']},async _0x144e6e=>{const _0x4a1523=_0x282147;console[_0x4a1523(0x1f6)](_0x4a1523(0x1ef),_0x144e6e);const _0x42a524=await getCaptureResponse(_0x144e6e['extractedText']);chrome['tabs'][_0x4a1523(0x1cb)](_0x2cb20c['tab']['id'],{'action':_0x4a1523(0x1b9),'response':_0x42a524,'type':'capture'}),chrome[_0x4a1523(0x1be)][_0x4a1523(0x1cb)]({'action':_0x4a1523(0x1c1),'response':_0x42a524}),chrome['storage'][_0x4a1523(0x1c2)][_0x4a1523(0x202)]({'response':_0x42a524});});});break;case _0x4f5c5f(0x1fe):console[_0x4f5c5f(0x1f6)](_0x4f5c5f(0x1b0),_0x51fea2[_0x4f5c5f(0x1b6)]),((async()=>{const _0x27f982=_0x4f5c5f,_0x5c108b=await getCaptureResponse(_0x51fea2[_0x27f982(0x1b6)]);chrome[_0x27f982(0x1c6)][_0x27f982(0x1cb)](_0x2cb20c['tab']['id'],{'action':_0x27f982(0x1b9),'response':_0x5c108b,'type':'capture'}),chrome['runtime']['sendMessage']({'action':_0x27f982(0x1c1),'response':_0x5c108b}),chrome['storage'][_0x27f982(0x1c2)][_0x27f982(0x202)]({'response':_0x5c108b});})());break;case _0x4f5c5f(0x1f2):checkSubscriptionStatus()['then'](_0x11883e=>{_0x3a3b8f({'active':_0x11883e});});return!![];case _0x4f5c5f(0x1fa):chrome[_0x4f5c5f(0x1c6)]['query']({'active':!![],'currentWindow':!![]},_0x58aa95=>{const _0x2687bc=_0x4f5c5f,_0x294756=_0x58aa95[0x0]['id'];chrome['scripting'][_0x2687bc(0x1c7)]({'target':{'tabId':_0x294756},'files':[_0x2687bc(0x1ad)]},()=>{const _0xcac8c0=_0x2687bc;chrome['runtime'][_0xcac8c0(0x1ec)]?_0x3a3b8f({'success':![]}):_0x3a3b8f({'success':!![]});});});break;default:break;}return!![];}),chrome[a0_0x3c3068(0x1ab)][a0_0x3c3068(0x1bd)][a0_0x3c3068(0x1e8)](_0x57570f=>{const _0x256754=a0_0x3c3068;_0x57570f['name']===_0x256754(0x1ca)&&checkSubscriptionStatus();}),chrome['runtime'][a0_0x3c3068(0x1bf)][a0_0x3c3068(0x1e8)](()=>{checkSubscriptionStatus();}),chrome[a0_0x3c3068(0x206)][a0_0x3c3068(0x1c4)][a0_0x3c3068(0x1e8)]((_0x382909,_0x51dfb3)=>{const _0x4010da=a0_0x3c3068;if(_0x382909[_0x4010da(0x1cc)]===_0x4010da(0x1fd)||_0x382909[_0x4010da(0x1cc)]===_0x4010da(0x204)||_0x382909[_0x4010da(0x1cc)]===_0x4010da(0x1eb)){const _0x5ec8cf=_0x382909[_0x4010da(0x1cc)]===_0x4010da(0x1fd)?_0x4010da(0x1a8):_0x382909[_0x4010da(0x1cc)]==='captureHint'?'hint':'pointers';processText(_0x382909[_0x4010da(0x1e7)],_0x51dfb3['id'],_0x5ec8cf);}}),chrome[a0_0x3c3068(0x1dd)][a0_0x3c3068(0x1b7)][a0_0x3c3068(0x1e8)](_0x17bf08=>{const _0x119df0=a0_0x3c3068;_0x17bf08===_0x119df0(0x1d8)&&chrome[_0x119df0(0x1c0)][_0x119df0(0x1c2)][_0x119df0(0x1d3)](['subscriptionActive',_0x119df0(0x1b4)],_0x3be019=>{const _0x220eb5=_0x119df0,_0x2df9b4=_0x3be019[_0x220eb5(0x1d9)]||![],_0x56c829=_0x3be019[_0x220eb5(0x1b4)]||![];if(!_0x2df9b4)return;chrome[_0x220eb5(0x1c6)][_0x220eb5(0x1ac)]({'active':!![],'currentWindow':!![]},_0x4307d5=>{const _0x3fd2ca=_0x220eb5;chrome[_0x3fd2ca(0x1c6)][_0x3fd2ca(0x1cb)](_0x4307d5[0x0]['id'],{'action':'triggerSelection','stealthMode':_0x56c829});});});});function createContextMenuItems(_0x31fbd7){const _0x4bed4a=a0_0x3c3068;chrome['contextMenus'][_0x4bed4a(0x1b5)](()=>{const _0x91763=_0x4bed4a;chrome[_0x91763(0x206)][_0x91763(0x1b8)]({'id':'captureQuestion','title':_0x91763(0x1b3),'contexts':[_0x91763(0x1b1)],'enabled':_0x31fbd7}),chrome['contextMenus']['create']({'id':_0x91763(0x204),'title':_0x91763(0x1ed),'contexts':[_0x91763(0x1b1)],'enabled':_0x31fbd7}),chrome[_0x91763(0x206)][_0x91763(0x1b8)]({'id':_0x91763(0x1eb),'title':'ðŸ§ \x20Pointers','contexts':[_0x91763(0x1b1)],'enabled':_0x31fbd7});});}async function checkSubscriptionStatus(){const _0x11afa8=a0_0x3c3068,_0x41dafa=!![];return chrome[_0x11afa8(0x1c0)]['local'][_0x11afa8(0x202)]({'subscriptionActive':_0x41dafa}),createContextMenuItems(_0x41dafa),_0x41dafa;}async function injectContentScript(_0xa13f5c){const _0x3f2bfa=a0_0x3c3068;try{chrome[_0x3f2bfa(0x1c6)][_0x3f2bfa(0x1d3)](_0xa13f5c,_0x11fe48=>{const _0x5d735b=_0x3f2bfa;if(isValidUrl(_0x11fe48[_0x5d735b(0x1bb)]))chrome['scripting'][_0x5d735b(0x1c7)]({'target':{'tabId':_0xa13f5c},'files':[_0x5d735b(0x1fc)]},()=>{const _0x202b6e=_0x5d735b;if(chrome[_0x202b6e(0x1be)][_0x202b6e(0x1ec)]){}else{}});else{}});}catch(_0x3901aa){}}function isValidUrl(_0x151c78){const _0x395606=a0_0x3c3068;return(_0x151c78[_0x395606(0x1e6)]('http://')||_0x151c78['startsWith'](_0x395606(0x1c8)))&&!_0x151c78['startsWith'](_0x395606(0x1d5))&&!_0x151c78[_0x395606(0x1e6)](_0x395606(0x1e1))&&!_0x151c78[_0x395606(0x1e6)]('chrome.google.com');}async function processText(_0x20ddf9,_0x248a75,_0x5dac2b){const _0x40acab=a0_0x3c3068;let _0x59f0c2;switch(_0x5dac2b){case'answer':_0x59f0c2=await getShortAnswerFromOpenAI(_0x20ddf9);break;case'hint':_0x59f0c2=await getHintFromOpenAI(_0x20ddf9);break;case _0x40acab(0x1ce):_0x59f0c2=await getPointersFromOpenAI(_0x20ddf9);break;case _0x40acab(0x1f1):chrome['storage'][_0x40acab(0x1c2)][_0x40acab(0x1d3)]([_0x40acab(0x1db)],function(_0x21ccb8){const _0x1802dc=_0x40acab;_0x59f0c2=_0x21ccb8[_0x1802dc(0x1db)];});break;default:return;}chrome[_0x40acab(0x1c6)][_0x40acab(0x1cb)](_0x248a75,{'action':'displayResponse','response':_0x59f0c2,'type':_0x5dac2b}),chrome[_0x40acab(0x1c0)][_0x40acab(0x1c2)][_0x40acab(0x202)]({'response':_0x59f0c2},()=>{const _0x553a52=_0x40acab;chrome[_0x553a52(0x1be)][_0x553a52(0x1cb)]({'action':_0x553a52(0x1c1),'response':_0x59f0c2}),chrome['action'][_0x553a52(0x1a7)]({'text':'1'}),chrome['action'][_0x553a52(0x1da)]({'color':_0x553a52(0x207)}),setTimeout(()=>{const _0x58e459=_0x553a52;chrome[_0x58e459(0x1fb)][_0x58e459(0x1a7)]({'text':''});},0x2710);});}function a0_0x250d(){const _0x5d6167=['57icswSf','triggerSelection','action','content.js','captureQuestion','ocrCompleted','width','22QwmKPq','startCapture','set','396DSnHel','captureHint','choices','contextMenus','#FFB202','46LsZZEd','setBadgeText','answer','Bearer\x20sk-proj-iVh1LEs7YUU6k7A89WwBT3BlbkFJdAosaN0GAY6Uwh1RGGSA','25506504ZSBMHa','alarms','query','selectionOverlay.js','\x0aProvide\x20a\x20short\x20answer\x20to\x20this\x20ideally\x201\x20or\x202\x20words\x20max,\x20but\x20use\x20up\x20to\x205\x20if\x20you\x20deem\x20necessary.','startY','OCR\x20Completed,\x20extracted\x20text:','selection','coordinates','âš¡ï¸\x20Quick\x20Answer','stealthMode','removeAll','extractedText','onCommand','create','displayResponse','No\x20response\x20found','url','content','onAlarm','runtime','onStartup','storage','updatePopupResponse','local','You\x20are\x20a\x20helpful\x20assistant.','onClicked','Question:\x20','tabs','executeScript','https://','7581lWyqeA','checkSubscription','sendMessage','menuItemId','Please\x20provide\x20as\x20short\x20as\x20possible\x20and\x20concise\x20response\x20to\x20the\x20following.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20If\x20it\x27s\x20a\x20math\x20equation,\x20just\x20provide\x20the\x20solution\x20e.g\x20solve\x20it,\x20find\x20the\x20variables\x20e.g\x20\x20if\x20it\x20was\x207x\x20-\x20y\x20=\x2014,\x20find\x20what\x20x\x20and\x20y\x20are\x20and\x20respond\x20with\x20those.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20If\x20it\x27s\x20a\x20text-based\x20question,\x20provide\x20the\x20briefest\x20possible\x20answer\x20ideally\x201-2\x20words,\x20but\x20less\x20than\x205\x20if\x20possible.\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Input:\x20\x22','pointers','startX','system','onMessage','message','get','277240qlIYaM','chrome://','2712GUNvbL','POST','capture_shortcut','subscriptionActive','setBadgeBackgroundColor','captureAnswer','879965DRLqZr','commands','user','png','Getting\x20capture\x20response\x20for:\x20','chrome-extension://','tab','https://api.openai.com/v1/chat/completions','onInstalled','captureArea','startsWith','selectionText','addListener','stringify','gpt-4o','capturePointers','lastError','ðŸ’¡\x20Hint','application/json','Captured\x20image\x20processed,\x20received\x20response:','\x0aProvide\x20a\x20hint\x20to\x20the\x20answer\x20of\x20this\x20question\x20in\x20one\x20sentence\x20or\x20less.\x20Don\x27t\x20include\x20Hint:\x20at\x20the\x20front,\x20just\x20give\x20me\x20the\x20hint\x20by\x20itself.','capture','checkSubscriptionStatus','9049420NyHekH','json','trim','log','228432KTmztD','16751mFWiAc'];a0_0x250d=function(){return _0x5d6167;};return a0_0x250d();}async function getShortAnswerFromOpenAI(_0x11de3f){const _0x1a0182=a0_0x3c3068,_0x3c691b=await fetch(_0x1a0182(0x1e3),{'method':_0x1a0182(0x1d7),'headers':{'Content-Type':'application/json','Authorization':'Bearer\x20sk-proj-iVh1LEs7YUU6k7A89WwBT3BlbkFJdAosaN0GAY6Uwh1RGGSA'},'body':JSON['stringify']({'model':_0x1a0182(0x1ea),'messages':[{'role':_0x1a0182(0x1d0),'content':_0x1a0182(0x1c3)},{'role':'user','content':_0x1a0182(0x1c5)+_0x11de3f+_0x1a0182(0x1ae)}],'max_tokens':0x64,'temperature':0x0})}),_0x5ea622=await _0x3c691b['json']();return _0x5ea622[_0x1a0182(0x205)][0x0][_0x1a0182(0x1d2)]['content'][_0x1a0182(0x1f5)]();}async function getHintFromOpenAI(_0x2592ef){const _0x246b81=a0_0x3c3068,_0x29457d=await fetch(_0x246b81(0x1e3),{'method':_0x246b81(0x1d7),'headers':{'Content-Type':'application/json','Authorization':_0x246b81(0x1a9)},'body':JSON[_0x246b81(0x1e9)]({'model':_0x246b81(0x1ea),'messages':[{'role':_0x246b81(0x1d0),'content':_0x246b81(0x1c3)},{'role':'user','content':_0x246b81(0x1c5)+_0x2592ef+_0x246b81(0x1f0)}],'max_tokens':0x32,'temperature':0x0})}),_0x104c76=await _0x29457d[_0x246b81(0x1f4)]();return _0x104c76[_0x246b81(0x205)][0x0][_0x246b81(0x1d2)][_0x246b81(0x1bc)]['trim']();}async function getPointersFromOpenAI(_0x2c5199){const _0x3a3a46=a0_0x3c3068,_0x444ebc=await fetch('https://api.openai.com/v1/chat/completions',{'method':'POST','headers':{'Content-Type':_0x3a3a46(0x1ee),'Authorization':_0x3a3a46(0x1a9)},'body':JSON['stringify']({'model':'gpt-4o','messages':[{'role':_0x3a3a46(0x1d0),'content':_0x3a3a46(0x1c3)},{'role':'user','content':_0x3a3a46(0x1c5)+_0x2c5199+'\x0aProvide\x205\x20bullet\x20points\x20with\x20memory\x20jogs/pointers\x20for\x20the\x20answer,\x20they\x20don\x27t\x20have\x20to\x20be\x20grammatically\x20correct,\x20just\x20as\x20valuable\x20words\x20as\x20possible\x20to\x20achieve\x20academic\x20marks.'}],'max_tokens':0x64,'temperature':0x0})}),_0x1d3542=await _0x444ebc[_0x3a3a46(0x1f4)]();return _0x1d3542[_0x3a3a46(0x205)][0x0]['message'][_0x3a3a46(0x1bc)][_0x3a3a46(0x1f5)]();}async function getCaptureResponse(_0x428e16){const _0x2b66b4=a0_0x3c3068;console[_0x2b66b4(0x1f6)](_0x2b66b4(0x1e0),_0x428e16);const _0x28dcae=_0x2b66b4(0x1cd)+_0x428e16+'\x22',_0x4694c1=await fetch(_0x2b66b4(0x1e3),{'method':_0x2b66b4(0x1d7),'headers':{'Content-Type':_0x2b66b4(0x1ee),'Authorization':'Bearer\x20sk-proj-iVh1LEs7YUU6k7A89WwBT3BlbkFJdAosaN0GAY6Uwh1RGGSA'},'body':JSON[_0x2b66b4(0x1e9)]({'model':_0x2b66b4(0x1ea),'messages':[{'role':_0x2b66b4(0x1d0),'content':_0x2b66b4(0x1c3)},{'role':_0x2b66b4(0x1de),'content':_0x28dcae}],'max_tokens':0x32,'temperature':0.1})}),_0x1baacf=await _0x4694c1[_0x2b66b4(0x1f4)]();return _0x1baacf[_0x2b66b4(0x205)][0x0]?.[_0x2b66b4(0x1d2)]?.[_0x2b66b4(0x1bc)]['trim']()||_0x2b66b4(0x1ba);}function a0_0x5594(_0x5ec589,_0x3cbabf){const _0x250d81=a0_0x250d();return a0_0x5594=function(_0x55949b,_0x331bbf){_0x55949b=_0x55949b-0x1a6;let _0x42aa32=_0x250d81[_0x55949b];return _0x42aa32;},a0_0x5594(_0x5ec589,_0x3cbabf);}function triggerCaptureProcess(_0x3a2cba,_0x46152b,_0x79a486,_0x11ea2c){const _0x44e874=a0_0x3c3068;chrome[_0x44e874(0x1c6)][_0x44e874(0x1ac)]({'active':!![],'currentWindow':!![]},_0x844512=>{const _0x5a7b5c=_0x44e874,_0x6bfaf1=_0x844512[0x0]['id'];chrome[_0x5a7b5c(0x1c6)][_0x5a7b5c(0x1cb)](_0x6bfaf1,{'action':_0x5a7b5c(0x201),'startX':_0x3a2cba,'startY':_0x46152b,'width':_0x79a486,'height':_0x11ea2c});});}async function sendToGPT4o(_0x2f9ff1){const _0x539f5d=a0_0x3c3068;try{const _0x4087ca=await getCaptureResponse(_0x2f9ff1);chrome[_0x539f5d(0x1c0)]['local'][_0x539f5d(0x202)]({'captureAnswer':_0x4087ca},function(){}),chrome[_0x539f5d(0x1c0)]['local'][_0x539f5d(0x202)]({'response':_0x4087ca},()=>{const _0x26120e=_0x539f5d;chrome['runtime']['sendMessage']({'action':_0x26120e(0x1c1),'response':_0x4087ca});});}catch(_0x294504){}}